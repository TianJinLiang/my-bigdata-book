# 什么是实时计算？

### 概念引入

实时计算的概念是相当于离线计算来的说。

先回顾下什么是离线计算，离线计算也叫做批量计算，批量计算的特点是在数据处理的各个环节中，我们都是对一批数据在进行操作。比如一次收集一批数据、一次将一批数据上传到Hadoop HDFS、一次性计算一天或者一个月的批量数据，这里面都是对一批数据进行操作和处理。

![](/assets/矿石运输车.png)

而实时计算就没有批的的概念，数据整个处理过程如同工程的流水线一样，数据实时产生、实时收集、实时计算、实时出结果。

![](/assets/abc.gif)

（查看图片  assets/流式计算示意图.gif）

### 实时计算架构

数据收集方面，针对不同的数据源有不同的收集方法。

* 针对数据库，可以使用mysql主从同步的方式获取数据，也开始收集数据比的binlog日志，通过回放binlog日志获取数据。
* 针对log文件，考虑到log日志不停增长，可以使用Flume的方式收集。
* 针对业务数据，可以考虑由业务系统发送消息到消息队列，然后从消息队列消费的方式获取。
* 其它，所谓山无定势水无常态，针对不同的业务场景，肯定有相应的解决办法。

数据中转存储方面，一般使用消息队列作为中间件，大数据领域Kafka用的最为普遍。

数据计算方面，现在使用Storm/Jstorm的比较多一些。

数据存储方面，可以使用Redis、HBase、Mysql等（排名有先后）。

### ![](/assets/实时计算架构图.png)

### 离线计算和实时计算的区别

| 比较项目 | 离线计算 | 实时计算 |
| :--- | :--- | :--- |
| 数据采集 | 对一批数据进行采集 | 产生一条收集一条 |
| 数据中转 | FTP服务器管理 | 消息队列（Kafka、ActiveMQ） |
| 数据计算 | 使用Hive对一天数据进行处理 | 使用Storm一条一条处理 |
| 调度任务 | 使用Crontab等进行定时调度 | 一旦启动永不停止，除非手动关闭 |
| 结果存储 | 一般存在Hadoop或者数据库 | 对接Redis、HBase、Mysql等 |

### 



